<div class="min-h-screen bg-gray-50 font-sans">
  <!-- Header -->
  <header class="bg-blue-600 text-white">
    <div class="container mx-auto px-4 py-3">
      <div class="flex justify-between items-center">
        <div class="flex items-center space-x-2">
          <i class="fas fa-envelope"></i>
          <h1 class="text-xl font-bold">TempMail</h1>
        </div>
        <div class="flex space-x-3">
          <button (click)="refreshEmails()" class="text-white hover:text-blue-200">
            <i class="fas fa-sync-alt" [class.animate-spin]="refreshing"></i>
          </button>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="container mx-auto px-4 py-6">
    <div class="flex flex-col md:flex-row gap-6">
      <!-- Email Control Panel -->
      <div class="w-full md:w-1/3 bg-white rounded-lg shadow-sm p-4">
        <div class="space-y-4">
          <h2 class="text-lg font-semibold">Your Temporary Email</h2>

          <div class="bg-blue-50 rounded-lg p-4 border border-blue-100">
            <div class="flex items-center justify-between">
              <div class="font-mono text-sm truncate">
                @if (emailGenerating) {
                {{ 'Generating email...'}}
                }@else {
                {{currentEmail }}
                }

              </div>
              <button (click)="copyEmail()" class="text-blue-600 hover:text-blue-800 ml-2">
                <i class="fas" [class.fa-copy]="!copied" [class.fa-check]="copied"></i>
              </button>
            </div>

            <div class="text-xs text-gray-500 mt-2">
              Expires in 1 hour
            </div>

            <button (click)="openHistoryDialog()"
              class="w-full mt-3 p-2 bg-white border rounded-lg hover:bg-blue-50 text-sm">
              Generate New Email
            </button>
          </div>
        </div>
      </div>

      <!-- Inbox Panel -->
       <div class="w-full md:w-2/3 bg-white rounded-lg shadow-sm p-4">

        <div>

          <div class="flex justify-between items-center mb-4">
            <h2 class="text-lg font-semibold">Inbox</h2>
            <div class="text-sm text-gray-500">
              Auto-refresh in {{countdown()}}s
            </div>
          </div>

          <!-- Loader -->
          <div *ngIf="loading" class="flex justify-center py-8">
            <div class="loader"></div>
          </div>

          <!-- Empty State -->
          <div *ngIf="!loading && emails.length === 0" class="text-center py-10 text-gray-500">
            <i class="fas fa-inbox text-3xl mb-3"></i>
            <p>Your inbox is empty</p>
          </div>

          <!-- Email List -->
       <!-- Email List -->
<div *ngIf="!loading && emails.length > 0" class="space-y-2">
  <div *ngFor="let email of emails" class="group relative p-3 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors"
    [class.bg-blue-50]="!email.read" (click)="viewEmail(email)">
    
    <!-- Email Content -->
    <div class="flex items-start">
      <div class="bg-blue-100 text-blue-800 rounded-full w-8 h-8 flex items-center justify-center mt-1 flex-shrink-0">
        <i class="fas fa-envelope text-sm"></i>
      </div>
      <div class="ml-3 flex-1 min-w-0">
        <div class="flex justify-between">
          <p class="text-sm font-medium truncate">{{email.subject}}</p>
          <span class="text-xs text-gray-500">{{email.created_at | date:'shortTime'}}</span>
        </div>
        <p class="text-xs text-gray-600 truncate">{{email.from_email}}</p>
      </div>
    </div>
    
    <!-- Action Icons (appear on hover) -->
    <div class="absolute right-3 top-3 flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity">
      <button (click)="$event.stopPropagation(); viewEmailDetails(email)"
              class="p-1.5 text-gray-500 hover:text-blue-600 hover:bg-gray-100 rounded-full transition-colors"
              title="View details">
        <i class="fas fa-eye text-xs"></i>
      </button>
      <button (click)="$event.stopPropagation(); confirmDelete(email)"
              class="p-1.5 text-gray-500 hover:text-red-600 hover:bg-gray-100 rounded-full transition-colors"
              title="Delete email">
        <i class="fas fa-trash-alt text-xs"></i>
      </button>
    </div>
  </div>
</div>

        </div>





      </div>

    </div>
  </main>
</div>