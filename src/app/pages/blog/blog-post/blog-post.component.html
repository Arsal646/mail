<div class="blog-post-page" *ngIf="post$ | async as post">
  <!-- Hero Section -->
  <section class="page-hero page-hero--blog">
    <div class="page-hero__container">
      <div class="page-hero__breadcrumb">
        <a routerLink="/">Home</a>
        <span class="page-hero__breadcrumb-separator">→</span>
        <a routerLink="/blog">Blog</a>
        <span class="page-hero__breadcrumb-separator">→</span>
        <span>Article</span>
      </div>

      <div class="page-hero__content">

        <h1 class="page-hero__title">{{ post.title }}</h1>
        <p class="page-hero__subtitle">{{ post.excerpt }}</p>

        <div class="blog-post-meta">
          <div class="blog-post-meta__item">
            <svg class="blog-post-meta__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <circle cx="12" cy="12" r="10" />
              <polyline points="12,6 12,12 16,14" />
            </svg>
            <span>{{ formatDate(post.publishedAt) }}</span>
          </div>
          <div class="blog-post-meta__item">
            <svg class="blog-post-meta__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
              <polyline points="14,2 14,8 20,8" />
            </svg>
            <span>{{ getReadingTime(post.content) }} min read</span>
          </div>
          <div class="blog-post-meta__item">
            <svg class="blog-post-meta__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" />
              <circle cx="9" cy="7" r="4" />
              <path d="M22 21v-2a4 4 0 0 0-3-3.87" />
              <path d="M16 3.13a4 4 0 0 1 0 7.75" />
            </svg>
            <span>{{ post.author }}</span>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- Article Content -->
  <main class="blog-content">
    <div class="blog-content__container">
      <div class="blog-content__layout">
        <!-- Main Article -->
        <article class="blog-article">
          <div class="blog-article__featured-image" *ngIf="post.featuredImage">
            <img [src]="post.featuredImage" [alt]="post.title" class="blog-article__image" />
          </div>

          <div class="blog-article__content">
            <div class="blog-article__body post-content" [innerHTML]="sanitizedContent || post.content"></div>
          </div>





          <!-- Article Footer -->
          <footer class="blog-article__footer">

            <!-- Author Info -->
            <div class="blog-author block md:hidden mb-2">
              <div class="blog-author__avatar">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
                  <circle cx="12" cy="7" r="4" />
                </svg>
              </div>
              <div class="blog-author__info">
                <h4 class="blog-author__name">{{ post.author }}</h4>
                <p class="blog-author__bio">Privacy experts at TempMail4U, dedicated to helping users protect their
                  digital identity and maintain online privacy.</p>
              </div>
            </div>

            <!-- Quick Actions -->
            <div class="blog-quick-actions block md:hidden mb-2">
              <h4 class="blog-quick-actions__title">Try TempMail4U</h4>
              <p class="blog-quick-actions__description">Get a temporary email address in seconds</p>
              <a routerLink="/" class="blog-quick-actions__button">
                <svg class="blog-quick-actions__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" />
                  <polyline points="22,6 12,13 2,6" />
                </svg>
                Generate Email
              </a>
            </div>

            <div class="blog-article__tags" *ngIf="post.tags.length > 0">
              <h4 class="blog-article__tags-title">Tags</h4>
              <div class="blog-article__tags-list">
                <span class="blog-article__tag" *ngFor="let tag of post.tags">{{ tag }}</span>
              </div>
            </div>

            <div class="blog-article__share">
              <h4 class="blog-article__share-title">Share this article</h4>
              <div class="blog-article__share-buttons">
                <a [href]="'https://twitter.com/intent/tweet?text=' + post.title + '&url=' + currentUrl" target="_blank"
                  class="blog-share-btn blog-share-btn--twitter">
                  <svg class="blog-share-btn__icon" viewBox="0 0 24 24" fill="currentColor">
                    <path
                      d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z" />
                  </svg>
                  <span>Twitter</span>
                </a>
                <a [href]="'https://www.linkedin.com/sharing/share-offsite/?url=' + currentUrl" target="_blank"
                  class="blog-share-btn blog-share-btn--linkedin">
                  <svg class="blog-share-btn__icon" viewBox="0 0 24 24" fill="currentColor">
                    <path
                      d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z" />
                  </svg>
                  <span>LinkedIn</span>
                </a>
                <a [href]="'mailto:?subject=' + post.title + '&body=' + currentUrl"
                  class="blog-share-btn blog-share-btn--email">
                  <svg class="blog-share-btn__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" />
                    <polyline points="22,6 12,13 2,6" />
                  </svg>
                  <span>Email</span>
                </a>
                <button class="blog-share-btn blog-share-btn--copy" (click)="copyToClipboard()">
                  <svg class="blog-share-btn__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2" />
                    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" />
                  </svg>
                  <span>Copy Link</span>
                </button>
              </div>
            </div>
          </footer>
        </article>

        <!-- Sidebar -->
        <aside class="blog-sidebar">
          <div class="blog-sidebar__sticky">
            <!-- Table of Contents -->
            <div class="blog-toc" *ngIf="tableOfContents.length">
              <h3 class="blog-toc__title">Table of Contents</h3>
              <nav class="blog-toc__nav">
                <a *ngFor="let item of tableOfContents" class="blog-toc__link"
                  [class.blog-toc__link--level-3]="item.level === 3" [attr.href]="'#' + item.id"
                  (click)="scrollToSection(item.id, $event)">
                  {{ item.text }}
                </a>
              </nav>
            </div>

            <!-- Author Info -->
            <div class="blog-author hidden md:block">
              <div class="blog-author__avatar">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
                  <circle cx="12" cy="7" r="4" />
                </svg>
              </div>
              <div class="blog-author__info">
                <h4 class="blog-author__name">{{ post.author }}</h4>
                <p class="blog-author__bio">Privacy experts at TempMail4U, dedicated to helping users protect their
                  digital identity and maintain online privacy.</p>
              </div>
            </div>

            <!-- Quick Actions -->
            <div class="blog-quick-actions hidden md:block">
              <h4 class="blog-quick-actions__title">Try TempMail4U</h4>
              <p class="blog-quick-actions__description">Get a temporary email address in seconds</p>
              <a routerLink="/" class="blog-quick-actions__button">
                <svg class="blog-quick-actions__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" />
                  <polyline points="22,6 12,13 2,6" />
                </svg>
                Generate Email
              </a>
            </div>
          </div>
        </aside>
      </div>
    </div>
  </main>

  <!-- Related Posts -->
  <section class="blog-related" *ngIf="relatedPosts$ | async as relatedPosts">
    <div class="blog-related__container" *ngIf="relatedPosts.length > 0">
      <h2 class="blog-related__title">Related Articles</h2>
      <div class="blog-related__grid">
        <article class="blog-related__card" *ngFor="let relatedPost of relatedPosts">
          <a [routerLink]="['/blog', relatedPost.slug]" class="blog-related__link">
            <div class="blog-related__image">
              <div class="blog-related__image-placeholder">
                <svg class="blog-related__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" />
                  <polyline points="22,6 12,13 2,6" />
                </svg>
              </div>
            </div>
            <div class="blog-related__content">
              <div class="blog-related__meta">
                <span class="blog-related__date">{{ formatDate(relatedPost.publishedAt) }}</span>
                <span class="blog-related__reading-time">{{ getReadingTime(relatedPost.content) }} min read</span>
              </div>
              <h3 class="blog-related__card-title">{{ relatedPost.title }}</h3>
              <p class="blog-related__excerpt">{{ relatedPost.excerpt }}</p>
            </div>
          </a>
        </article>
      </div>
    </div>
  </section>


</div>